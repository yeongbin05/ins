{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="custom-navbar">

  <a href="{% url "accounts:index" %}">
  <img src="{% static 'logo.png' %}" alt="1" class="navbar-logo"></a>
  {% if request.user.is_authenticated %}
  <a class="btn btn-primary nav-btn" href="{% url "accounts:logout" %}">로그아웃</a>

  {% else  %}
 <div class="log-sin-nav">
    <a class="btn btn-primary nav-btn" href="{% url "accounts:login" %}">로그인</a>
    <div>
      <a href="{% url "accounts:signup" %}">가입하기</a>
    </div>
  </div>

 {% endif %}
</div>
<div class="except-nav">
<header>
  <div class='profile-image'><img src="" class ='profile' alt=""></div>
  <div class="except-image">
    <div>
      <span>{{ person }}</span>
      {% if request.user != person %}
      <div class='follow-message'>
        <!--팔로우 기능-->
        <form action="{% url "accounts:follow" person.username %}" method="POST">
          {% csrf_token %}
          {% if request.user not in followers %}
            <input type="submit" value="FOLLOW" class="btn btn-light">
          {% else %}
            <input type="submit" value="FOLLOW" class="btn btn-primary">
          {% endif %}

        </form>
        <!--DM 기능-->
        <a href="{% url "directs" person.username %}"><button type="button" class="btn btn-light grey-btn">Message</button></a>
      </div>
      {% else %}

      {% endif %}
    </div>
        

    <div>
      <span>followers {{ followers.count }}</span>
      <p>host를 팔로우한사람 명단</p>
      {% for id in followers %}               <!--host를 팔로우한 Follow테이블 데이터들에서 -->
        <p>{{ id.following }}</p>             <!--following값이 host를 팔로우한 사람들-->
      {% endfor %}
      <br>
      <span>following {{ followings.count }}</span>
      <p>host가 팔로잉한사람 명단</p>
      {% for id in followings %}
        <p>{{ id.follower }}</p>
      {% endfor %}

    </div>
    
  </div>
</header>
<div class="header-bottom">
  게시물
</div>



  <div class="pics">
    
   
  {% for post in person.post_set.all  %}
  
  <img src="{{ post.content.url }}" alt="" class="image">
  {% endfor %} 

  </div>
  </div>
<!--내 게시글이면 구현 안됨-->
{% if request.user != person %}
<a href="{% url "posts:create" %}">게시글 올리기</a>
{% comment %} <a href="{% url "accounts:create" user%}">프로필 올리기</a> {% endcomment %}
{% else %}
니 프로필 아니다
{% endif %}
{% if request.user.is_authenticated %}
{% else %}
<div class="footer-black">
  <div class="white">
  <div class="profile-footer-logo">
    <img src="{% static 'simple_logo.png' %}" alt="logo" class="profile-footer-logo-img">
  </div>
  <div class='profile-footer-text'>
    <div>Instagram에 로그인</div>
    <div>로그인하여 친구들의 사진과 동영상을 확인하고 회원님이 좋아할 만한 계정을 찾아보세요.</div>
  </div>
  <div class='profile-footer-button'>
    <a href="{% url "accounts:login" %}" class='btn btn-primary'>로그인</a>
    <div><a href="{% url "accounts:signup" %}">가입하기</a></div>
  </div>
</div>
</div>
{% endif %}
{% endblock content %}

